##### **合并文件和文件夹**



合并是将两个不同分支中的更改结合在一起的过程。合并操作获取源分支中已发生的更改，并将这些更改集成到目标分支中。合并操作集成源分支中所有类型的更改，其中包括更改名称、编辑文件、添加文件、删除文件以及撤消删除更改。如果同时在源分支和目标分支中修改了项，则系统将提示解决冲突。在合并期间执行的操作

在合并期间，会执行下列操作：

·合并将标识源分支中所有已添加的文件或文件夹，然后尝试添加目标分支中的相应项。如果从源分支添加的项与已添加到目标分支的项共享同一名称，则可能会发生命名空间冲突。Team Foundation 不处理解决此类型冲突的事宜，但会记录一条错误消息。

·合并操作将查看源分支中也存在于目标分支内的每个项的历史记录。对于每个项，如果在源分支中所做的更改并不存在于目标分支中，则将这些更改合并到目标分支中。如果已在目标分支上修改了该项，则将会检测到冲突。在合并操作过程中，可以选择合并项的特定版本或所有更改

合并操作：

1.在源代码管理资源管理器中，右击要与另一个团队项目、文件夹或文件版本合并的团队项目、文件夹或文件版本，并选择“合并”。

2.在“源代码管理合并向导”的“源分支”框中，键入团队项目源分支的名称，或者单击“浏览”以定位到该分支。

3.在“目标分支”下拉列表中，选择源分支要合并到的所需目标团队项目分支。

4.通过选择“对特定版本的所有更改”或“所选变更集”选项，选择要合并到目标分支的更改类型，然后单击“下一步”。

o如果在“选择合并操作的源分支和目标分支”步骤中选择了“对特定版本的所有更改”，则选择要使用的源项的版本。

| 变更集 | 通过指定变更集版本执行合并。 |
| :--- | :--- |
| 日期 | 通过指定日期版本执行合并。 |
| 标签 | 通过指定标签版本执行合并。 |
| 最新版本 | 通过指定最新版本执行合并。 |
| 工作区 | 通过指定工作区版本执行合并。 |

o如果在“选择合并操作的源分支和目标分支”步骤中选择了“所选变更集”，则选择要合并的变更集。

o如果可能，请选择“对特定版本的所有更改”，因为这样做将减少以后在合并调用中发生冲突的可能性。



5.单击“下一步”，然后在“执行合并操作”步骤中单击“完成”。

6.如果发生合并冲突，必须解决这些冲突。

若要执行这些过程，您必须将源树中项的“读取”权限和目标树中项的“签出”权限都设置为“允许”。如果要重命名目标树中的项，您必须将源树和目标树的“签出”权限都设置为“允许”。如果涉及锁定，则您必须将“锁定”权限设置为“允许”

